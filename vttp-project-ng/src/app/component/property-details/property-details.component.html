<div>
  <img src="/assets/icons/loading.gif" alt="" *ngIf="!property">
</div>
<div class="flex flex-col items-center background text" *ngIf="property">
  <div class="w-5/6">
    <h1 class="py-10 text-5xl font-bold dark">Property Details</h1>
    <table class="table-fixed w-full">
      <tr>
        <td class="flex flex-col items-center">
          <img class="h-180 w-180" [src]="property.images" />
          <button
          *ngIf="isLoggedIn"  
          class="my-2 mx-20"
            (click)="showFileUpload()"
          >
            Change image
          </button>
          <form *ngIf="showFileInputBox">
            <input type="file" accept="image/*" #propertyImageFile>
            <button (click)="uploadFile()">Upload</button>
          </form>
        </td>
        <td class="p-3">
          <div>
            <span class="font-bold">Address:</span> {{ property.blkNo }}
            {{ property.roadName }} Singapore {{ property.postal }}
          </div>

          <div>
            <span class="font-bold">Building/Estate Name:</span>
            {{ property.building }} 
          </div>

          <div class="my-2">
            <button *ngIf="!noResults" (click)="searchAddress(property.building)">Browse properties from same building/estate</button>
            <span *ngIf="noResults">No other reviews for building/estate.</span>
          </div>
          
          <div>
            <iframe [src]='mapURL' height="320" width="320" scrolling="no" frameborder="0" allowfullscreen="allowfullscreen"></iframe>
          </div>

          <div class="my-5"><button (click)="processForm()">Write a review!</button></div>
        </td>
      </tr>
    </table>
  </div>
  <div class="w-5/6">
    <h1 class="pt-2 text-2xl font-bold dark">Latest reviews for property:</h1>
    <div>
      <img src="/assets/icons/loading.gif" alt="" *ngIf="reviewList.length == 0">
    </div>
    <div *ngIf="reviewList.length; else noReviews">
      <app-reviews-list [reviewList]="reviewList"></app-reviews-list>
    </div>
    <ng-template #noReviews>
      <p class="m-5">No reviews found.</p>
    </ng-template>
  </div>

<!--   <div class="w-5/6 mt-5">
    <h1 class="pt-2 text-2xl font-bold dark">Other reviews for same estate/building: {{property.building}}</h1>
    <div *ngIf="buildingReviewList.length; else noReviews">
      <app-reviews-list [reviewList]="buildingReviewList"></app-reviews-list>
    </div>
    <ng-template #noReviews>
      <p class="m-5">No reviews found.</p>
    </ng-template>
  </div> -->

  <div>
    
  </div>


  <div><button (click)="back()">Back to search results</button></div>
</div>
